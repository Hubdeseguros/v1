(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[810],{4317:function(e,s,r){Promise.resolve().then(r.t.bind(r,4364,23)),Promise.resolve().then(r.bind(r,6852)),Promise.resolve().then(r.bind(r,459)),Promise.resolve().then(r.bind(r,19)),Promise.resolve().then(r.bind(r,615))},6852:function(e,s,r){"use strict";r.d(s,{default:function(){return n}});var a=r(7437),i=r(2265),t=r(1469);function n(e){let{role:s="AGENCIA"}=e,[r,n]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1);return(0,a.jsxs)("header",{className:"bg-white shadow-sm h-16 flex items-center px-3 md:px-6",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:"PROMOTOR"===s?"Panel de Promotor":"ADMIN"===s?"Panel de Administrador":"CLIENTE"===s?"Mi Cuenta":"Panel de Agencia"})}),(0,a.jsxs)("div",{className:"mx-2 md:mx-4 relative w-full md:w-64 max-w-[200px] md:max-w-none",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(t.jRj,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary focus:border-primary sm:text-sm",placeholder:"Buscar..."})]}),(0,a.jsxs)("div",{className:"relative ml-3",children:[(0,a.jsxs)("button",{onClick:()=>{l(!o),r&&n(!1)},className:"p-2 rounded-full text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,a.jsx)("span",{className:"sr-only",children:"Ver notificaciones"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(t.vWP,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white"})]})]}),o&&(0,a.jsxs)("div",{className:"origin-top-right absolute right-0 mt-2 w-[calc(100vw-2rem)] md:w-80 max-w-sm rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:[(0,a.jsx)("div",{className:"py-2 px-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Notificaciones"}),(0,a.jsx)("button",{className:"text-xs text-primary hover:text-secondary",children:"Marcar todo como le\xeddo"})]})}),(0,a.jsxs)("div",{className:"max-h-96 overflow-y-auto",children:[(0,a.jsx)("div",{className:"py-2 px-4 border-b border-gray-100 hover:bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0 bg-blue-100 rounded-full p-1",children:(0,a.jsx)(t.vWP,{className:"h-4 w-4 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-3 w-0 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Renovaci\xf3n pr\xf3xima"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"La p\xf3liza de Juan P\xe9rez vence en 3 d\xedas"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Hace 2 horas"})]})]})}),(0,a.jsx)("div",{className:"py-2 px-4 border-b border-gray-100 hover:bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0 bg-green-100 rounded-full p-1",children:(0,a.jsx)(t.fzv,{className:"h-4 w-4 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-3 w-0 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Nuevo cliente registrado"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Mar\xeda Garc\xeda ha sido registrada en el sistema"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Hace 5 horas"})]})]})}),(0,a.jsx)("div",{className:"py-2 px-4 hover:bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0 bg-red-100 rounded-full p-1",children:(0,a.jsx)(t.vWP,{className:"h-4 w-4 text-red-600"})}),(0,a.jsxs)("div",{className:"ml-3 w-0 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Siniestro reportado"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Nuevo siniestro reportado para la p\xf3liza #45623"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Ayer"})]})]})})]}),(0,a.jsx)("div",{className:"py-2 px-4 border-t border-gray-200 text-center",children:(0,a.jsx)("a",{href:"#",className:"text-xs text-primary hover:text-secondary",children:"Ver todas las notificaciones"})})]})]}),(0,a.jsxs)("div",{className:"relative ml-3",children:[(0,a.jsxs)("button",{onClick:()=>{n(!r),o&&l(!1)},className:"flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,a.jsx)("span",{className:"sr-only",children:"Abrir men\xfa de usuario"}),(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-600",children:(0,a.jsx)(t.fzv,{className:"h-5 w-5"})}),(0,a.jsx)("span",{className:"ml-2 text-gray-700",children:"Admin"}),(0,a.jsx)("svg",{className:"ml-1 h-5 w-5 text-gray-400 transition-transform ".concat(r?"rotate-180":""),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),r&&(0,a.jsx)("div",{className:"origin-top-right absolute right-0 mt-2 w-[calc(100vw-2rem)] md:w-48 max-w-xs rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsxs)("a",{href:"/dashboard/perfil",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(t.fzv,{className:"mr-3 h-4 w-4 text-gray-500"}),"Mi Perfil"]}),(0,a.jsxs)("a",{href:"/dashboard/configuracion",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(t.nbt,{className:"mr-3 h-4 w-4 text-gray-500"}),"Configuraci\xf3n"]}),(0,a.jsxs)("a",{href:"/dashboard/ayuda",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(t.bax,{className:"mr-3 h-4 w-4 text-gray-500"}),"Ayuda"]}),(0,a.jsx)("div",{className:"border-t border-gray-100"}),(0,a.jsxs)("a",{href:"/login",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(t.xqh,{className:"mr-3 h-4 w-4 text-gray-500"}),"Cerrar sesi\xf3n"]})]})})]})]})}},459:function(e,s,r){"use strict";r.d(s,{default:function(){return o}});var a=r(7437),i=r(2265),t=r(1469),n=r(615);function o(){let{isOpen:e,toggleMenu:s}=(0,n.S)(),[r,o]=(0,i.useState)(0),[l,c]=(0,i.useState)(0);(0,i.useRef)(null);let d=(0,i.useRef)(0),m=s=>{e&&(d.current=s.timeStamp,o(s.touches[0].clientX))},u=s=>{e&&c(s.touches[0].clientX)},h=()=>{if(!e)return;let a=Date.now()-d.current,i=r-l;a<300&&Math.abs(i)>50&&i>0&&s(!1)};return(0,i.useEffect)(()=>{if("undefined"==typeof document)return;let r=r=>{let a=r.target,i=a.closest(".bg-primary.text-white.h-screen.w-64"),t=a.closest(".mobile-menu-button");!e||i||t||s(!1)},a=r=>{"Escape"===r.key&&e&&s(!1)},i=document.querySelector(".bg-primary.text-white.h-screen.w-64");i&&(i.addEventListener("touchstart",m),i.addEventListener("touchmove",u),i.addEventListener("touchend",h));let t=()=>{window.innerWidth<768&&s(!1)},n=document.querySelectorAll("a");return n.forEach(e=>{e.addEventListener("click",t)}),document.addEventListener("mousedown",r),document.addEventListener("keydown",a),()=>{i&&(i.removeEventListener("touchstart",m),i.removeEventListener("touchmove",u),i.removeEventListener("touchend",h)),n.forEach(e=>{e.removeEventListener("click",t)}),document.removeEventListener("mousedown",r),document.removeEventListener("keydown",a),document.body.style.overflow=""}},[e,s]),(0,i.useEffect)(()=>{let r=()=>{window.innerWidth>=768&&e&&s(!1)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[e]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>s(!e),className:"mobile-menu-button md:hidden","aria-label":e?"Cerrar men\xfa":"Abrir men\xfa","aria-expanded":e,"aria-controls":"sidebar-navigation",children:e?(0,a.jsx)(t.q5L,{size:24}):(0,a.jsx)(t.cur,{size:24})}),(0,a.jsx)("div",{className:"sidebar-overlay",onClick:()=>s(!1),"aria-hidden":!e,style:{opacity:e?1:0,pointerEvents:e?"auto":"none",transition:"opacity 0.3s ease-in-out"}})]})}},19:function(e,s,r){"use strict";r.d(s,{default:function(){return h}});var a=r(7437),i=r(7648),t=r(2265),n=r(9376),o=r(615),l=r(3512),c=r(1469);let d=[{name:"Inicio",icon:(0,a.jsx)(c.m6D,{className:"w-5 h-5"}),href:"/cliente"},{name:"Mis P\xf3lizas",icon:(0,a.jsx)(c.NOg,{className:"w-5 h-5"}),href:"/cliente/polizas",subItems:[{name:"Todas mis p\xf3lizas",href:"/cliente/polizas",description:"Consulta tus p\xf3lizas activas"},{name:"Vencimientos",href:"/cliente/polizas/vencimientos",description:"Pr\xf3ximos vencimientos"},{name:"Historial",href:"/cliente/polizas/historial",description:"Historial de p\xf3lizas"}]},{name:"Cotizaciones",icon:(0,a.jsx)(c.orK,{className:"w-5 h-5"}),href:"/cliente/cotizaciones",subItems:[{name:"Nueva cotizaci\xf3n",href:"/cliente/cotizaciones/nueva",description:"Solicitar nueva cotizaci\xf3n"},{name:"Mis solicitudes",href:"/cliente/cotizaciones",description:"Estado de mis cotizaciones"}]},{name:"Pagos",icon:(0,a.jsx)(c.oQC,{className:"w-5 h-5"}),href:"/cliente/pagos",subItems:[{name:"Realizar pago",href:"/cliente/pagos/realizar",description:"Pagar p\xf3liza"},{name:"Historial de pagos",href:"/cliente/pagos",description:"Mis transacciones"},{name:"M\xe9todos de pago",href:"/cliente/pagos/metodos",description:"Gestionar formas de pago"}]},{name:"Siniestros",icon:(0,a.jsx)(c.BJv,{className:"w-5 h-5"}),href:"/cliente/siniestros",subItems:[{name:"Reportar siniestro",href:"/cliente/siniestros/reportar",description:"Nuevo reporte"},{name:"Mis reportes",href:"/cliente/siniestros",description:"Seguimiento de siniestros"}]},{name:"Documentos",icon:(0,a.jsx)(c.QoU,{className:"w-5 h-5"}),href:"/cliente/documentos",subItems:[{name:"Mis p\xf3lizas",href:"/cliente/documentos/polizas",description:"Descargar p\xf3lizas"},{name:"Facturas",href:"/cliente/documentos/facturas",description:"Facturas y recibos"},{name:"Contratos",href:"/cliente/documentos/contratos",description:"Documentos legales"}]}],m=[{name:"Inicio",icon:(0,a.jsx)(c.m6D,{className:"w-5 h-5"}),href:"/dashboard"},{name:"Clientes",icon:(0,a.jsx)(c.WY8,{className:"w-5 h-5"}),href:"/dashboard/clientes",subItems:[{name:"Listado de Clientes",href:"/dashboard/clientes",description:"Gestiona tu cartera de clientes"},{name:"Asistente Comercial/CRM",href:"/dashboard/clientes/crm",description:"Seguimiento de oportunidades comerciales"}]},{name:"P\xf3lizas",icon:(0,a.jsx)(c.NOg,{className:"w-5 h-5"}),href:"/dashboard/polizas",subItems:[{name:"Listado de P\xf3lizas",href:"/dashboard/polizas",description:"Gestiona todas tus p\xf3lizas"},{name:"Cotizaciones",href:"/dashboard/polizas/cotizaciones",description:"Gestiona tus cotizaciones"},{name:"Cumplimiento",href:"/dashboard/polizas/cumplimiento",description:"P\xf3lizas de cumplimiento"},{name:"Judicial",href:"/dashboard/polizas/judicial",description:"P\xf3lizas judiciales"}]},{name:"Siniestros",icon:(0,a.jsx)(c.BJv,{className:"w-5 h-5"}),href:"/dashboard/siniestros",subItems:[{name:"Gesti\xf3n de Siniestros",href:"/dashboard/siniestros",description:"Administra casos de siniestros"},{name:"Reportar Siniestro",href:"/dashboard/siniestros/reportar",description:"Crea un nuevo reporte de siniestro"},{name:"Historial de Siniestros",href:"/dashboard/siniestros/historial",description:"Consulta el historial completo"}]},{name:"Cobros",icon:(0,a.jsx)(c.oQC,{className:"w-5 h-5"}),href:"/dashboard/cobros",subItems:[{name:"Listado de pagos",href:"/dashboard/cobros",description:"Visualiza todos los pagos"},{name:"Pagos Pendientes",href:"/dashboard/cobros/pendientes",description:"Gestiona pagos por cobrar"},{name:"Recibos y Cuadre de caja",href:"/dashboard/cobros/recibos",description:"Administra recibos y cuadre diario"},{name:"Liquidar vendedores",href:"/dashboard/cobros/liquidaciones",description:"Gestiona comisiones y liquidaciones"}]},{name:"Informes",icon:(0,a.jsx)(c.CFv,{className:"w-5 h-5"}),href:"/dashboard/informes",subItems:[{name:"Informes Financieros",href:"/dashboard/informes/financieros",description:"Reportes financieros detallados"},{name:"Informes de Producci\xf3n",href:"/dashboard/informes/produccion",description:"An\xe1lisis de producci\xf3n y ventas"},{name:"Informes de Siniestralidad",href:"/dashboard/informes/siniestralidad",description:"Estad\xedsticas de siniestros"}]},{name:"Gesti\xf3n",icon:(0,a.jsx)(c.QoU,{className:"w-5 h-5"}),href:"/dashboard/gestion",subItems:[{name:"Archivos",href:"/dashboard/gestion/archivos",description:"Gesti\xf3n documental"},{name:"Facturas",href:"/dashboard/gestion/facturas",description:"Administraci\xf3n de facturas"},{name:"Diligencias",href:"/dashboard/gestion/diligencias",description:"Seguimiento de tr\xe1mites"}]},{name:"Remisiones",icon:(0,a.jsx)(c.LbG,{className:"w-5 h-5"}),href:"/dashboard/remisiones",subItems:[{name:"Crear remisi\xf3n",href:"/dashboard/remisiones/crear",description:"Genera una nueva remisi\xf3n"},{name:"Listado de remisi\xf3n",href:"/dashboard/remisiones",description:"Consulta todas las remisiones"}]},{name:"Reportes",icon:(0,a.jsx)(c.orK,{className:"w-5 h-5"}),href:"/dashboard/reportes",subItems:[{name:"Reportes de Venta",href:"/dashboard/reportes/ventas",description:"An\xe1lisis detallado de ventas"},{name:"Reportes de Cobranza",href:"/dashboard/reportes/cobranza",description:"Seguimiento de cobranza"},{name:"Reportes de Cliente",href:"/dashboard/reportes/clientes",description:"Estad\xedsticas de clientes"}]},{name:"Administraci\xf3n",icon:(0,a.jsx)(c.nbt,{className:"w-5 h-5"}),href:"/dashboard/administracion",subItems:[{name:"Usuarios",href:"/dashboard/administracion/usuarios",description:"Gesti\xf3n de usuarios del sistema"},{name:"Roles",href:"/dashboard/administracion/roles",description:"Configuraci\xf3n de roles y permisos"},{name:"Permisos",href:"/dashboard/administracion/permisos",description:"Asignaci\xf3n de permisos espec\xedficos"},{name:"Copias de Seguridad",href:"/dashboard/administracion/backups",description:"Gesti\xf3n de respaldos"},{name:"Logs del Sistema",href:"/dashboard/administracion/logs",description:"Registro de actividades"},{name:"Sucursales",href:"/dashboard/administracion/sucursales",description:"Administraci\xf3n de sedes"},{name:"Productos",href:"/dashboard/administracion/productos",description:"Cat\xe1logo de productos"}]}],u=[{name:"Importar Plantillas",icon:(0,a.jsx)(c.Yjd,{className:"w-5 h-5"}),href:"/dashboard/importar",subItems:[{name:"Aseguradoras",href:"/dashboard/importar/aseguradoras",description:"Importar datos de aseguradoras"},{name:"Ramos",href:"/dashboard/importar/ramos",description:"Importar cat\xe1logo de ramos"},{name:"Campos adicionales por ramo",href:"/dashboard/importar/campos-ramo",description:"Configuraci\xf3n de campos espec\xedficos"},{name:"Vendedores",href:"/dashboard/importar/vendedores",description:"Importar datos de agentes"},{name:"Clientes",href:"/dashboard/importar/clientes",description:"Importar cartera de clientes"},{name:"Datos adicionales de clientes",href:"/dashboard/importar/datos-clientes",description:"Informaci\xf3n complementaria"},{name:"P\xf3lizas",href:"/dashboard/importar/polizas",description:"Importar p\xf3lizas existentes"},{name:"P\xf3lizas de cumplimiento y judicial",href:"/dashboard/importar/polizas-especiales",description:"P\xf3lizas con caracter\xedsticas especiales"},{name:"Vinculados a p\xf3lizas colectivas",href:"/dashboard/importar/vinculados",description:"Beneficiarios de p\xf3lizas colectivas"},{name:"Coberturas",href:"/dashboard/importar/coberturas",description:"Cat\xe1logo de coberturas"},{name:"Beneficiarios",href:"/dashboard/importar/beneficiarios",description:"Datos de beneficiarios"},{name:"Anexos",href:"/dashboard/importar/anexos",description:"Documentos complementarios"},{name:"Cobros",href:"/dashboard/importar/cobros",description:"Historial de pagos"},{name:"Siniestros",href:"/dashboard/importar/siniestros",description:"Historial de siniestros"},{name:"Amparos Siniestros",href:"/dashboard/importar/amparos",description:"Coberturas de siniestros"},{name:"Asistente Comercial / CRM",href:"/dashboard/importar/crm",description:"Datos de oportunidades comerciales"},{name:"Tareas",href:"/dashboard/importar/tareas",description:"Actividades pendientes"}]},{name:"Configuraci\xf3n Promotor",icon:(0,a.jsx)(c.NNy,{className:"w-5 h-5"}),href:"/dashboard/configuracion",subItems:[{name:"Perfil",href:"/dashboard/configuracion/perfil",description:"Mi perfil de promotor"},{name:"Preferencias",href:"/dashboard/configuracion/preferencias",description:"Configuraci\xf3n personal"},{name:"Clientes",href:"/dashboard/configuracion/clientes",description:"Gesti\xf3n de clientes"},{name:"Plantillas",href:"/dashboard/configuracion/plantillas",description:"Plantillas de documentos"},{name:"Notificaciones",href:"/dashboard/configuracion/notificaciones",description:"Preferencias de notificaciones"}]}];function h(e){let{role:s="AGENCIA",className:r=""}=e,[h,p]=(0,t.useState)(null),f=(0,n.useRouter)(),{toggleMenu:x}=(0,o.S)(),{signOut:b}=(0,l.a)(),g=(0,t.useRef)({}),v=(0,t.useRef)({}),y=e=>{let s=e.name;v.current[s]=(v.current[s]||0)+1,g.current[s]&&clearTimeout(g.current[s]),g.current[s]=setTimeout(()=>{1===v.current[s]?(e.subItems&&e.subItems.length,f.push(e.href),window.innerWidth<768&&x(!1)):v.current[s]>=2&&w(s),v.current[s]=0,g.current[s]=null},250)};(0,t.useEffect)(()=>()=>{Object.keys(g.current).forEach(e=>{g.current[e]&&clearTimeout(g.current[e])})},[]);let w=e=>{p(h===e?null:e),window.innerWidth<768&&h===e&&x(!1)},N="CLIENTE"===s?d:m.filter(e=>"ADMIN"===s||("AGENCIA"===s?!["Administraci\xf3n"].includes(e.name):"PROMOTOR"===s&&["Inicio","Clientes","P\xf3lizas","Siniestros","Cobros"].includes(e.name))),j=u.filter(e=>"ADMIN"===s||"AGENCIA"===s);return(0,a.jsxs)("div",{className:"bg-primary text-white h-screen w-64 flex flex-col",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,a.jsx)(i.default,{href:"/dashboard",className:"flex items-center",children:(0,a.jsxs)("span",{className:"text-xl font-bold",children:[(0,a.jsx)("span",{className:"text-white",children:"Hub"}),(0,a.jsx)("span",{className:"text-blue-300",children:"seguros"})]})})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto py-4",children:[(0,a.jsx)("ul",{className:"space-y-1 px-2",children:N.map(e=>(0,a.jsxs)("li",{children:[(0,a.jsx)("button",{onClick:()=>y(e),className:"flex items-center justify-between w-full p-2 rounded-md transition-colors ".concat(h===e.name?"bg-secondary text-white":"text-gray-300 hover:bg-secondary/50"),children:(0,a.jsxs)("div",{className:"flex items-center",children:[e.icon,(0,a.jsx)("span",{className:"ml-3",children:e.name})]})}),h===e.name&&e.subItems&&e.subItems.length>0&&(0,a.jsx)("ul",{className:"mt-1 ml-6 space-y-1",children:e.subItems.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(i.default,{href:e.href,onClick:()=>{window.innerWidth<768&&x(!1)},className:"block p-2 text-sm text-gray-300 hover:text-white hover:bg-secondary/30 rounded-md transition-colors",children:e.name})},e.name))})]},e.name))}),j.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"border-t border-gray-700 my-4 mx-2"}),(0,a.jsx)("ul",{className:"space-y-1 px-2",children:j.map(e=>(0,a.jsxs)("li",{children:[(0,a.jsx)("button",{onClick:()=>y(e),className:"flex items-center justify-between w-full p-2 rounded-md transition-colors ".concat(h===e.name?"bg-secondary text-white":"text-gray-300 hover:bg-secondary/50"),children:(0,a.jsxs)("div",{className:"flex items-center",children:[e.icon,(0,a.jsx)("span",{className:"ml-3",children:e.name})]})}),h===e.name&&e.subItems&&e.subItems.length>0&&(0,a.jsx)("ul",{className:"mt-1 ml-6 space-y-1",children:e.subItems.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(i.default,{href:e.href,onClick:()=>{window.innerWidth<768&&x(!1)},className:"block p-2 text-sm text-gray-300 hover:text-white hover:bg-secondary/30 rounded-md transition-colors",children:e.name})},e.name))})]},e.name))})]})]}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-700",children:(0,a.jsxs)("button",{onClick:async e=>{e.preventDefault();try{await b()}catch(e){window.location.href="https://hubdeseguros.github.io/v1/login/"}},className:"flex items-center p-2 text-gray-300 hover:text-white hover:bg-secondary/50 rounded-md transition-colors w-full",children:[(0,a.jsx)(c.xqh,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"ml-3",children:"Cerrar sesi\xf3n"})]})})]})}},3512:function(e,s,r){"use strict";r.d(s,{AuthProvider:function(){return m},a:function(){return u}});var a=r(7437),i=r(2265),t=r(9376),n=r(7026);let o="https://vcoynbjctbfyavxnyhmp.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZjb3luYmpjdGJmeWF2eG55aG1wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgyNzY4ODUsImV4cCI6MjA2Mzg1Mjg4NX0.q_5pNpcOSBpqjTkgIWoplGDc6LZlZIvTD3zeuR3lN2Q";if(!o||!l)throw Error("Missing Supabase configuration");let c=(0,n.eI)(o,l),d=(0,i.createContext)(void 0);function m(e){let{children:s}=e,[r,n]=(0,i.useState)(null),[o,l]=(0,i.useState)(!0),[m,u]=(0,i.useState)(null),h=(0,t.useRouter)(),p=(0,t.usePathname)();(0,i.useEffect)(()=>{(async()=>{try{l(!0);let{data:{session:s},error:r}=await c.auth.getSession();if(r)throw r;if(null==s?void 0:s.user){var e;let{data:r,error:a}=await c.from("profiles").select("*").eq("id",s.user.id).single();if(a)throw a;n({id:s.user.id,email:s.user.email,user_metadata:{full_name:(null==r?void 0:r.full_name)||(null===(e=s.user.email)||void 0===e?void 0:e.split("@")[0]),avatar_url:null==r?void 0:r.avatar_url},role:(null==r?void 0:r.role)||"CLIENTE"})}else n(null),["/","/login","/registro","/recuperar-password"].some(e=>p===e||p.startsWith("".concat(e,"/")))||h.push("/login")}catch(e){}finally{l(!1)}})();let{data:{subscription:e}}=c.auth.onAuthStateChange(async(e,s)=>{if(null==s?void 0:s.user){var r;let{data:e}=await c.from("profiles").select("*").eq("id",s.user.id).single();n({id:s.user.id,email:s.user.email,user_metadata:{full_name:(null==e?void 0:e.full_name)||(null===(r=s.user.email)||void 0===r?void 0:r.split("@")[0]),avatar_url:null==e?void 0:e.avatar_url},role:(null==e?void 0:e.role)||"CLIENTE"})}else n(null),["/","/login","/registro","/recuperar-password"].some(e=>p===e||p.startsWith("".concat(e,"/")))||h.push("/login")});return()=>{null==e||e.unsubscribe()}},[p,h]);let f=async(e,s)=>{l(!0),u(null);try{let{data:r,error:a}=await c.auth.signInWithPassword({email:e,password:s});if(a)throw Error(a.message||"Error al iniciar sesi\xf3n");if(null==r?void 0:r.user){let{data:e,error:s}=await c.from("profiles").select("*").eq("id",r.user.id).single();if(s)throw s;n({id:r.user.id,email:r.user.email||"",user_metadata:{full_name:(null==e?void 0:e.full_name)||"",avatar_url:null==e?void 0:e.avatar_url},role:(null==e?void 0:e.role)||"CLIENTE"})}return{error:null}}catch(s){let e=s.message||"Error al iniciar sesi\xf3n";return u(e),{error:e}}finally{l(!1)}},x=async(e,s,r)=>{l(!0),u(null);try{let{data:a,error:i}=await c.from("profiles").select("id").eq("email",e).single();if(a&&!i)throw Error("Este correo electr\xf3nico ya est\xe1 registrado");let{data:t,error:n}=await c.auth.signUp({email:e,password:s,options:{data:{full_name:r.full_name,email_redirect_to:"".concat(window.location.origin,"/dashboard")},emailRedirectTo:"".concat(window.location.origin,"/dashboard")}});if(n)throw n;if(t.user){let{error:s}=await c.from("profiles").insert([{id:t.user.id,email:e.toLowerCase().trim(),full_name:r.full_name.trim(),role:"CLIENTE",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);if(s)throw Error("Error al crear el perfil del usuario")}return{error:null}}catch(s){let e=s.message||"Error al registrar el usuario";return u(e),{error:e}}finally{l(!1)}},b=async e=>{l(!0),u(null);try{let{error:s}=await c.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/update-password")});if(s)throw s;return{error:null}}catch(s){let e=s.message||"Error al enviar el correo de recuperaci\xf3n";return u(e),{error:e}}finally{l(!1)}},g=async()=>{try{n(null),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(e=>{let[s]=e.trim().split("=");document.cookie="".concat(s,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/")}),c.auth.signOut().catch(e=>{}),h.push("https://hubdeseguros.github.io/v1/login/"),window.location.href="https://hubdeseguros.github.io/v1/login/"}catch(e){window.location.href="https://hubdeseguros.github.io/v1/login/"}};return(0,a.jsx)(d.Provider,{value:{user:r,loading:o,error:m,signIn:f,signUp:x,signOut:g,resetPassword:b},children:s})}function u(){let e=(0,i.useContext)(d);if(void 0===e)throw Error("useAuth debe usarse dentro de un AuthProvider");return e}},615:function(e,s,r){"use strict";r.d(s,{MobileMenuProvider:function(){return n},S:function(){return o}});var a=r(7437),i=r(2265);let t=(0,i.createContext)(void 0);function n(e){let{children:s}=e,[r,n]=(0,i.useState)(!1);return(0,a.jsx)(t.Provider,{value:{isOpen:r,toggleMenu:e=>{n(e),document.body.classList.toggle("sidebar-mobile-active",e),e?document.body.style.overflow="hidden":document.body.style.overflow=""}},children:s})}function o(){let e=(0,i.useContext)(t);if(void 0===e)throw Error("useMobileMenu debe usarse dentro de un MobileMenuProvider");return e}},7648:function(e,s,r){"use strict";r.d(s,{default:function(){return i.a}});var a=r(2972),i=r.n(a)},178:function(e,s,r){"use strict";r.d(s,{w_:function(){return l}});var a=r(2265),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},t=a.createContext&&a.createContext(i),n=function(){return(n=Object.assign||function(e){for(var s,r=1,a=arguments.length;r<a;r++)for(var i in s=arguments[r])Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);return e}).apply(this,arguments)},o=function(e,s){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>s.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>s.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(r[a[i]]=e[a[i]]);return r};function l(e){return function(s){return a.createElement(c,n({attr:n({},e.attr)},s),function e(s){return s&&s.map(function(s,r){return a.createElement(s.tag,n({key:r},s.attr),e(s.child))})}(e.child))}}function c(e){var s=function(s){var r,i=e.attr,t=e.size,l=e.title,c=o(e,["attr","size","title"]),d=t||s.size||"1em";return s.className&&(r=s.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,i,c,{className:r,style:n(n({color:e.color||s.color},s.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&a.createElement("title",null,l),e.children)};return void 0!==t?a.createElement(t.Consumer,null,function(e){return s(e)}):s(i)}},4364:function(){}}]);